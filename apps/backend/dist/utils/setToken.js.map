{"version":3,"sources":["../../src/utils/setToken.ts"],"sourcesContent":["import { User } from \"@prisma/client\";\r\nimport { Response } from \"express\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst JWT_COOKIE_NAME = \"rid\";\r\nconst JWT_SECRET_KEY = \"keyboard-cat\";\r\n\r\nexport interface jwtPayload {\r\n  id: string;\r\n  email: string | null;\r\n}\r\n\r\nexport const setToken = (user: User, res: Response): void => {\r\n  const payload: jwtPayload = {\r\n    email: user.email,\r\n    id: user.id,\r\n  };\r\n\r\n  const token = jwt.sign(payload, \"keyboard-cat\");\r\n\r\n  res.cookie(JWT_COOKIE_NAME, token, {\r\n    httpOnly: true,\r\n  });\r\n};\r\n"],"names":["JWT_COOKIE_NAME","JWT_SECRET_KEY","setToken","user","res","payload","email","id","token","jwt","sign","cookie","httpOnly"],"mappings":"AAAA;;;;;AAEgB,IAAA,aAAc,kCAAd,cAAc,EAAA;;;;;;AAE9B,MAAMA,eAAe,GAAG,KAAK,AAAC;AAC9B,MAAMC,cAAc,GAAG,cAAc,AAAC;AAO/B,MAAMC,QAAQ,GAAG,CAACC,IAAU,EAAEC,GAAa,GAAW;IAC3D,MAAMC,OAAO,GAAe;QAC1BC,KAAK,EAAEH,IAAI,CAACG,KAAK;QACjBC,EAAE,EAAEJ,IAAI,CAACI,EAAE;KACZ,AAAC;IAEF,MAAMC,KAAK,GAAGC,aAAG,QAAA,CAACC,IAAI,CAACL,OAAO,EAAE,cAAc,CAAC,AAAC;IAEhDD,GAAG,CAACO,MAAM,CAACX,eAAe,EAAEQ,KAAK,EAAE;QACjCI,QAAQ,EAAE,IAAI;KACf,CAAC,CAAC;CACJ,AAAC;QAXWV,QAAQ,GAARA,QAAQ"}