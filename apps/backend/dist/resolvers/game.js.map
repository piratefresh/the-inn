{"version":3,"sources":["../../src/resolvers/game.ts"],"sourcesContent":["import {\r\n  Arg,\r\n  createUnionType,\r\n  Ctx,\r\n  Field,\r\n  InputType,\r\n  Mutation,\r\n  Query,\r\n  Resolver,\r\n} from \"type-graphql\";\r\nimport { MyContext } from \"@typedefs/MyContext\";\r\nimport { ExistingUserError } from \"@errors/ExisitingUserError\";\r\nimport { FieldsValidationError } from \"@errors/FieldsValidationError\";\r\nimport { BadCredentialsError } from \"@errors/BadCredentialsError\";\r\nimport { Campaign } from \"@models/Campaign\";\r\nimport { NonExistingCampaignError } from \"@errors/NonExistingCampaignError\";\r\n\r\nexport const AuthResult = createUnionType({\r\n  name: \"AuthResult\",\r\n  types: () =>\r\n    [\r\n      Campaign,\r\n      FieldsValidationError,\r\n      NonExistingCampaignError,\r\n      BadCredentialsError,\r\n    ] as const,\r\n});\r\n\r\nexport const CreateCampaignResult = createUnionType({\r\n  name: \"CreateCampaignResult\",\r\n  types: () => [Campaign, FieldsValidationError, ExistingUserError] as const,\r\n});\r\n\r\n@InputType()\r\nexport class UsernamePasswordInput {\r\n  @Field()\r\n  firstName: string;\r\n  @Field()\r\n  lastName: string;\r\n  @Field()\r\n  password: string;\r\n  @Field()\r\n  email: string;\r\n}\r\n\r\n@Resolver()\r\nexport class UserResolver {\r\n  @Query(() => String)\r\n  async hellogame() {\r\n    return \"hello game\";\r\n  }\r\n  @Query(() => [Campaign])\r\n  async getCampaigns(@Ctx() { prisma, res }: MyContext) {\r\n    return prisma.campaign.findMany({});\r\n  }\r\n  @Query(() => [Campaign])\r\n  async getCampaign(@Ctx() { prisma, res }: MyContext) {\r\n    return prisma.campaign.findFirst({});\r\n  }\r\n\r\n  @Mutation((_type) => CreateCampaignResult)\r\n  async createCampaign(@Ctx() { prisma, res }: MyContext) {\r\n    console.log(\"making game\");\r\n  }\r\n}\r\n"],"names":["AuthResult","createUnionType","name","types","Campaign","FieldsValidationError","NonExistingCampaignError","BadCredentialsError","CreateCampaignResult","ExistingUserError","UsernamePasswordInput","Field","firstName","lastName","password","email","InputType","UserResolver","hellogame","getCampaigns","prisma","res","campaign","findMany","getCampaign","findFirst","createCampaign","console","log","Query","String","Ctx","Mutation","_type","Resolver"],"mappings":"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"}